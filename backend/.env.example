# Yoga Platform Environment Configuration
# Copy this file to .env and fill in the values

# ============================================
# APPLICATION MODE
# ============================================
# dev = Development (use docker-compose.dev.yml for PostgreSQL + MinIO)
# prod = Production (Railway with PostgreSQL + S3)
APP_MODE=dev

# Server Configuration
HOST=0.0.0.0
PORT=8000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Development with Docker (PostgreSQL - identical to prod):
DATABASE_URL=postgresql+asyncpg://yoga_user:yoga_pass@localhost:5432/yoga_db

# Development without Docker (SQLite - NOT recommended):
# DATABASE_URL=sqlite+aiosqlite:///./yoga_platform.db

# Production (Railway PostgreSQL):
# DATABASE_URL=postgresql+asyncpg://user:password@host:5432/database

# ============================================
# JWT Authentication
# ============================================
# IMPORTANT: Generate a secure key for production:
# python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=dev-secret-key-change-in-production
JWT_ISSUER=yoga-platform
JWT_AUDIENCE=yoga-platform-users

# ============================================
# Google Gemini API (required for AI generation)
# ============================================
# Get your API key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-api-key-here

# ============================================
# S3 STORAGE CONFIGURATION
# ============================================
# Storage backend: "s3" (recommended) or "local" (deprecated)
STORAGE_BACKEND=s3

# --- Development with Docker (MinIO) ---
S3_BUCKET=yoga-platform
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_ENDPOINT_URL=http://localhost:9000
S3_PUBLIC_URL=http://localhost:9000
S3_PREFIX=

# --- Production (AWS S3 / Railway Object Storage) ---
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
# S3_ENDPOINT_URL=  # Leave empty for AWS S3
# S3_PUBLIC_URL=    # Leave empty for AWS S3
# S3_PREFIX=

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# Development: localhost origins are auto-added
# Production: Set your frontend URL
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# QUICK START (Development)
# ============================================
# 1. Copy this file to .env
# 2. Set your GOOGLE_API_KEY
# 3. Run: docker-compose -f docker-compose.dev.yml up -d db minio minio-setup
# 4. Run: cd backend && uvicorn main:app --reload
# 5. MinIO console: http://localhost:9001 (minioadmin/minioadmin)
